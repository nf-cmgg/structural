Changes in module 'nf-core/bcftools/concat'
--- modules/nf-core/bcftools/concat/main.nf
+++ modules/nf-core/bcftools/concat/main.nf
@@ -8,7 +8,7 @@
         'biocontainers/bcftools:1.17--haef29d1_0' }"
 
     input:
-    tuple val(meta), path(vcfs), path(tbi)
+    tuple val(meta), path(vcfs), path(tbis)
 
     output:
     tuple val(meta), path("*.gz"), emit: vcf
@@ -19,13 +19,28 @@
 
     script:
     def args = task.ext.args   ?: ''
-    prefix   = task.ext.prefix ?: "${meta.id}"
+    def args2 = task.ext.args2   ?: ''
+    def prefix   = task.ext.prefix ?: "${meta.id}"
+
+    def tbi_names = tbis.collect { it.name }
+
+    def tabix_vcfs = vcfs.collect {
+        if(tbi_names.contains("${it.name}.tbi" as String)) {
+            return ""
+        }
+        return "tabix ${it.name}"
+    }
+
     """
+    ${tabix_vcfs.join("\n")}
     bcftools concat \\
-        --output ${prefix}.vcf.gz \\
         $args \\
         --threads $task.cpus \\
-        ${vcfs}
+        ${vcfs} \\
+    | bcftools sort \\
+        ${args2} \\
+        --output ${prefix}.vcf.gz \\
+        --output-type z
 
     cat <<-END_VERSIONS > versions.yml
     "${task.process}":

************************************************************
